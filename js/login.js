"use strict";var xmlhttp,n,tel = document.getElementsByClassName("tel")[0],pwd = document.getElementsByClassName("pwd")[0],yanzhen_tel = document.getElementsByClassName("yanzhen_tel")[0],yanzhen_pwd = document.getElementsByClassName("yanzhen_pwd")[0],inp_confirm = document.getElementsByClassName("yanzhenma")[0],flag1 = !1,flag2 = !0,flag3 = !1,flag4 = !1,flag5 = !1;function yan_tel() {var a = tel.value,l = 0;"" == a ? (yanzhen_tel.style.color = "red", yanzhen_tel.innerHTML = "请输入账号", flag1 = !1, none()) : (xmlhttp.open("GET", "php/login_username.php", !0), xmlhttp.send(), xmlhttp.onreadystatechange = function () {if (4 == xmlhttp.readyState && 200 == xmlhttp.status) {for (var e = JSON.parse(xmlhttp.responseText), t = 0; t < e.length; t++) {a == e[t].username ? n = t : l++;}l == e.length ? (yanzhen_tel.style.color = "red", yanzhen_tel.innerHTML = "没有此账号", flag1 = !1) : (yanzhen_tel.style.color = "green", yanzhen_tel.innerHTML = "输入正确", flag1 = !0), none();}});}function yan_pwd() {var t = pwd.value;"" == t ? (yanzhen_pwd.style.color = "red", yanzhen_pwd.innerHTML = "请输入密码", flag3 = !1) : (xmlhttp.open("GET", "php/login_password.php", !0), xmlhttp.send(), xmlhttp.onreadystatechange = function () {if (4 == xmlhttp.readyState && 200 == xmlhttp.status) {var e = JSON.parse(xmlhttp.responseText);console.log(e), t == e[n].password ? (yanzhen_pwd.style.color = "green", yanzhen_pwd.innerHTML = "输入正确", flag3 = !0) : (yanzhen_pwd.style.color = "red", yanzhen_pwd.innerHTML = "密码错误", flag3 = !1);}}), none();}function createCode() {code = "";for (var e = document.getElementsByClassName("inp_yanzhenma")[0], n = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], t = 0; t < 4; t++) {var a = Math.floor(62 * Math.random());code += n[a];}e.value = code;}function check() {var e = document.getElementsByClassName("checkbox")[0];flag5 = !!e.checked, none();}function none() {document.getElementsByClassName("logging")[0].style.pointerEvents = 1 == flag1 && 1 == flag3 && 1 == flag4 && 1 == flag5 ? "auto" : "none";}function login() {window.localStorage.classname2 = document.getElementsByClassName("tel")[0].value, window.open("index.html");}document.getElementsByClassName("logging")[0].style.pointerEvents = "none", xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"), inp_confirm.onblur = function () {var e = document.getElementsByClassName("inp_yanzhenma")[0].value,n = document.getElementsByClassName("yanzhenma_confirm")[0],t = inp_confirm.value.toUpperCase();"" == t ? (n.innerHTML = "请输入验证码", n.style.color = "red", flag4 = !1) : t != e.toUpperCase() ? (n.innerHTML = "输入错误", n.style.color = "red", flag4 = !1, createCode()) : (n.innerHTML = "输入正确", n.style.color = "green", flag4 = !0), none();}, window.onload = createCode();