"use strict";var xmlhttp,tel = document.getElementsByClassName("tel")[0],pwd = document.getElementsByClassName("pwd")[0],pwd_pwd = document.getElementsByClassName("pwd_pwd")[0],inp_confirm = document.getElementsByClassName("inp_confirm")[0],flag1 = !0,flag2 = !1,flag3 = !1,flag4 = !1,flag5 = !1,flag6 = !1,flag7 = !0,num = 0;function createCode() {code = "";for (var e = document.getElementsByClassName("inp_yanzhenma")[0], n = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], t = 0; t < 4; t++) {var l = Math.floor(36 * Math.random());code += n[l];}e.value = code;}function check() {var e = document.getElementsByClassName("checkbox")[0];flag6 = !!e.checked, none();}function none() {document.getElementsByClassName("submit")[0].style.pointerEvents = 1 == flag2 && 1 == flag3 && 1 == flag4 && 1 == flag5 && 1 == flag6 ? "auto" : "none";}function sub() {var e = document.getElementsByClassName("tel")[0].value,n = document.getElementsByClassName("pwd")[0].value;xmlhttp.open("GET", "php/getusername.php?username=" + e + "& password=" + n, !0), xmlhttp.send(), window.open("login.html");}document.getElementsByClassName("submit")[0].style.pointerEvents = "none", xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"), tel.onblur = function () {var t = tel.value;if ("" != t) {var l = document.getElementsByClassName("yanzhen_tel")[0];if (/^1[3|5|7|8|9]\d{9}$/.test(t)) {var a = 0;xmlhttp.open("GET", "php/register.php", !0), xmlhttp.send(), xmlhttp.onreadystatechange = function () {if (4 == xmlhttp.readyState && 200 == xmlhttp.status) {var e = JSON.parse(xmlhttp.responseText);console.log(e);for (var n = 0; n < e.length; n++) {t == e[n].username ? a = a : a++;}a == e.length ? (l.innerHTML = "输入正确", l.style.color = "green", flag2 = !0) : (l.innerHTML = "该手机号已被注册", l.style.color = "red", flag2 = !1);}};} else l.innerHTML = "没有此手机号", l.style.color = "red", flag2 = !1;} else l.innerHTML = "请输入手机号", l.style.color = "red", flag2 = !1;none();}, pwd.onblur = function () {var e = pwd.value,n = document.getElementsByClassName("yanzhen_pwd")[0];"" == e ? (n.innerHTML = "请设置你的密码", n.style.color = "red", flag3 = !1) : /^[a-zA-Z\d][\w.]{5,}$/.test(e) ? (n.innerHTML = "输入合法", n.style.color = "green", flag3 = !0) : (n.innerHTML = "输入错误(最少6位)", n.style.color = "red", flag3 = !1), none();}, pwd_pwd.onblur = function () {var e = pwd.value,n = document.getElementsByClassName("yanzhen_pwd_pwd")[0];"" == e ? (n.innerHTML = "请输入确认密码", n.style.color = "red", flag4 = !1) : pwd_pwd.value != pwd.value ? (n.innerHTML = "密码不一致！", n.style.color = "red", flag4 = !1) : (n.innerHTML = "输入一致", n.style.color = "green", flag4 = !0), none();}, inp_confirm.onblur = function () {var e = document.getElementsByClassName("inp_yanzhenma")[0].value,n = document.getElementsByClassName("yanzhenma_confirm")[0],t = inp_confirm.value.toUpperCase();"" == t ? (n.innerHTML = "请输入验证码", n.style.color = "red", flag5 = !1) : t != e.toUpperCase() ? (n.innerHTML = "输入错误", n.style.color = "red", flag5 = !1, createCode()) : (n.innerHTML = "输入正确", n.style.color = "green", flag5 = !0), none();};